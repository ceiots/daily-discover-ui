# 8. 项目状态与待办事项

本文档用于追踪当前工程状态、技术债务、重构计划和待办事项。

## 8.1 当前工程状态与问题

基于对当前工程的全面分析，我们发现以下关键问题需要解决：

1. **目录结构混乱**：
   - 页面组件与业务组件混合在 `src/components` 目录中。
   - 缺少专门的 `pages` 目录来存放页面级组件。
   - API调用分散在各个组件中。

2. **代码复用性差**：
   - 存在大量重复代码，如HTTP请求处理。
   - 缺少集中的API服务层。

3. **性能与规范问题**：
   - 缺少缓存机制。
   - 错误处理不统一。

4. **可维护性与扩展性不足**：
   - 组件与业务逻辑耦合严重。
   - 路由管理分散。

## 8.2 重构计划

为满足高并发、高性能、高可扩展的目标，我们计划分阶段实施以下改进：

#### 阶段1：架构与目录结构调整（已完成部分）

1. **完善分层结构**：
   - [x] 创建了 `src/pages` 目录。
   - [x] 创建了 `src/services` (http, api), `src/constants`, `src/hooks`, `src/store` 目录。
   - [ ] 将所有页面级组件迁移至 `pages` 目录。
   - [ ] 完善所有API服务实现。
   - [ ] 重构剩余的HTTP请求为服务调用。

2. **状态管理优化**：
   - [ ] 实现统一的状态管理架构。

#### 阶段2：性能优化

1. **懒加载与代码分割**：
   - [ ] 实现基于路由的代码分割。
   - [ ] 大型组件实现按需加载。

2. **资源优化**：
   - [ ] 图片懒加载与WebP格式转换。

3. **缓存策略**：
   - [ ] 完善API响应缓存。

#### 阶段3：可维护性提升

1. **组件库建设**：
   - [ ] 规范化原子级UI组件。
   - [ ] 提取通用业务组件。

3. **错误监控**：
   - [ ] 完善全局错误处理。
   - [ ] 实现前端错误上报。

## 8.3 待办事项清单 📝

- **[文档]** 更新 `.cursor/rules/综合面试复盘文档.md`
- **[功能]** 根据UI/UX设计稿，继续开发或优化其他页面功能
- **[测试]** 为核心组件和Hooks编写单元测试
- **[重构]** 将账户页面目录结构，将 `LoginPage`, `ForgotPasswordPage`, `RegisterPage` 移至 `src/pages/account`
- **[重构]** 将认证逻辑从 `App.js` 抽离至 `src/hooks/useAuth.js`

## 8.4 已完成 ✅ (2025-06-18)

- **[修复]** 解决了 `src/theme/components/index.js` 中的表单组件导出错误。
- **[修复]** 修正了 `src/theme/index.js` 中的 Toast 组件导出问题。
- **[修复]** 修正了 `NavBar` 组件的导入路径，并创建了 `useNavBar` Hook。
- **[修复]** 修正了 `useAuth` 的错误导入路径。
- **[修复]** 删除了废弃的 `NavBar` 组件。
- **[修复]** 确保项目成功编译并运行。 